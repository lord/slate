## Types of events

> Example `bill.update` Event

```json
{
  "_id": "580e3e11dec21e861b5a3719",
  "type": "bill.update",
  "created": "2016-04-20T16:51:12Z",
  "payload": {
    "resource": {
      "type": "bill",
      "id": "579b695decfa11012711875d"
    },
    "data": {
      "company": {
        "name": "Netflix"
      },
      "previous": {
        "balance": "25.21"
      },
      "current": {
        "balance": "52.11"
      }
    }
  }
}
```

> Example `bill.payment` Event

```json
{
  "_id": "580e3e11dec21e861b5a3719",
  "type": "bill.payment",
  "created": "2016-04-20T16:51:12Z",
  "payload": {
    "resource": {
      "type": "bill",
      "id": "579b695decfa11012711875d"
    },
    "data": {
      "company": {
        "name": "Netflix"
      },
      "amount": "25.21",
      "surcharge": {
        "type": "debit",
        "rate": "2.50"
      }
    }
  }
}
```

This is a list of all the types of events we currently send. We may add more at any time, so you shouldn't rely on only these types existing in your code.

You'll notice that these events follow a pattern: `resource.event`. Our goal is to design a consistent system that makes things easier to anticipate and code against.

Each event object includes a `payload.data` property which contains unique values for each `type` of event. Each event type below describes these unique values.

### Bill update

When a bill's outstanding balance changes. Note that the `data.previous` value may not always be available. For instance, when the system first aggregates bill data, the previous bill balance may not have been known. Also note that when the `data.previous.balance` is `0.00` and there is a new current balance, this means that a new bill was issued by the company's system.

Attribute | Description
--------- | -----------
`type` | `bill.update`
`data.company` | The [company object](#the-company-object) linked to this resource.
`data.previous` | Object containing the names of the attributes that have changed and their previous values. 
`data.current` | Object containing the names of the attributes that have changed and their current values.

### Bill payment

When a payment is made towards a bill's outstanding balance. Note that the `data.surcharge` may not be available when a company does not require it.

Attribute | Description
--------- | -----------
`type` | `bill.payment`
`data.company` | The [company object](#the-company-object) linked to this resource.
`data.amount` | The amount sent to the company.
`data.surcharge` | The surcharge required by the company to process the payment.
`data.surcharge.type` | The type of surcharge required. Possible values are `credit`, `debit`, or `ach`.
`data.surcharge.rate` | The fee amount the company requires to process the payment.