---
title: API Reference

language_tabs: # must be one of https://git.io/vQNgJ
  - python

search: true
---

# Introduction
Welcome to the FalconX trading API documentation. The APIs provide developers programmatic access to FalconX services. In case of any questions please contact `support@falconx.io` 

# Request For Quote (RFQ)
RFQ process involves the client sending details about the market pair they want to trade along with the quantity. FalconX RFQ API returns the price at which client can buy or sell the requested quantity in the requested market pair. The quote is valid only for a short period of time. If the client accepts the quote before it expires and FalconX sends a confirmation then the trade is considered closed.

# Requests
All requests and responses are `application/json` content type and follow typical HTTP response status codes for success and failure.

## API Endpoint
* All HTTP requests must be sent to: `https://api.falconx.io/v1`

### Success
A successful response is indicated by HTTP status code 200 and may contain an optional body. If the response has a body it will be documented under each resource below.

### Common HTTP error codes

| Status Code | Reason |
| ----------- | ------ |
| 400         | Bad Request – Invalid request format|
| 401         | Unauthorized – Invalid API Key|
| 403         | Forbidden – You do not have access to the requested resource|
| 404         | Resource Not Found|
| 500         | Internal Server Error – We had a problem with our server|


# Authentication

## Generating an API Key

Once you are signed up on FalconX, our customer success team will generate an API key for you. After generating the key you will have the following information which will be required for making any API request:

* `api_key`
* `secret_key`
* `passphrase`

<!-- FalconX generates `key` and `secret` for you but you'll need to choose `passphrase` to further secure your API calls. FalconX only stores the salted hash of your passphrase for
verification. We won't be able to recover your passphrase if lost. -->

## Creating a Request

``` python
# python version: v3.6.7
#
# Requires python-requests. Install with pip:
#
#   pip install requests
#
# or, with easy-install:
#
#   easy_install requests

import json, hmac, hashlib, time, requests, base64
from requests.auth import AuthBase

# Create custom authentication for RFQ
class FXRfqAuth(AuthBase):
    def __init__(self, api_key, secret_key, passphrase):
        self.api_key = api_key
        self.secret_key = secret_key
        self.passphrase = passphrase

    def __call__(self, request):
        timestamp = str(time.time())
        request_body = request.body.decode() if request.body else ''
        message = timestamp + request.method + request.path_url + request_body
        hmac_key = base64.b64decode(self.secret_key)
        signature = hmac.new(hmac_key, message.encode(), hashlib.sha256)
        signature_b64 = base64.b64encode(signature.digest())

        request.headers.update({
            'FX-ACCESS-SIGN': signature_b64,
            'FX-ACCESS-TIMESTAMP': timestamp,
            'FX-ACCESS-KEY': self.api_key,
            'FX-ACCESS-PASSPHRASE': self.passphrase,
            'Content-Type': 'application/json'
        })
        return request


api_url = 'https://api.falconx.io/v1/'
auth = FXRfqAuth(API_KEY, API_SECRET, API_PASS)

# Get Quote
params = {
    'token_pair': {
      'base_token': 'BTC',
      'quote_token': 'USD'
    },
    'quantity': {
      'token': 'BTC',
      'value': 10
    },
    'side': 'buy'
}

r = requests.post(api_url + 'quotes', json=params, auth=auth)
print(r.json())
# {"status": "success", "fx_quote_id": "00c884b056f949338788dfb59e495377"...}
```

All REST API requests must contain the following headers:

* **FX-ACCESS-KEY** The API key as a string
* **FX-ACCESS-SIGN** The base64-encoded signature (see [Signing a Message](#signing-a-message))
* **FX-ACCESS-TIMESTAMP** The timestamp in seconds from epoch
* **FX-ACCESS-PASSPHRASE** The passphrase given to you

All request bodies should have content type `application/json` and should be a valid JSON.

## Signing a Message
The **FX-ACCESS-SIGN** header is generated by creating a sha256 HMAC using the base64-decoded secret key on the prehash string **timestamp + method + requestPath + body** (where + represents string concatenation) and base64-encode the output. The timestamp value is the same as the **FX-ACCESS-TIMESTAMP** header.

The **body** is the request body string or omitted if there is no request body (typically for GET requests).

The **method** should be UPPER CASE.

Remember to first base64-decode the alphanumeric secret string (resulting in 64 bytes) before using it as the key for HMAC. Also, base64-encode the digest output before sending in the header.


## Selecting a Timestamp
The **FX-ACCESS-TIMESTAMP** header must be number of seconds since Unix Epoch in UTC. Decimal values are allowed.

Your timestamp must be within 30 seconds of the API service time or your request will be considered expired and rejected.


# Get Trading Pairs

Get the list of all trading pairs currently supported.

## HTTP Request

> Request Sample

```shell
# pass in the correct authorization headers
curl "https://api.falconx.io/v1/pairs"
```

`GET https://api.falconx.io/v1/pairs`



## Response Parameters

> Response Sample

```json
[
  {
    "base_token": "BTC",
    "quote_token": "USD"
  },
  {
    "base_token": "ETH",
    "quote_token": "USD"
  }
]
```

API will return a list of the following structure

| Parameter     | Type                              | Description |
| ---------     | ------------------------------    | ------------|
| **base_token**        | STRING                            | Base Token
| **quote_token**   | STRING                            |  Quote Token


# Get Quote

Client sends request to get quotes to this endpoint. The response contains the timestamp until which the quotes are valid.  Only a valid quote can be used to place an order.

## HTTP Request
`POST https://api.falconx.io/v1/quotes`

## Request Body

> Request Sample

```json
{
  "token_pair": {
    "base_token": "BTC",
    "quote_token": "USD"
  },
  "quantity": {
    "token": "BTC",
    "value": "10"
  },
  "side": "buy"
}
```


| Parameter  | Type                                | Description |
| ---------  | ----------------------------------- | ------------|
| **token_pair** | JSON                                | The market for which the client is requesting quote |
| **quantity**   | JSON                                | Requested quantity |
| **side**       | STRING                              | Side of quote. Accepted values: `buy`, `sell` or `two_way`


## Response Parameters

> Response Sample

```json
{
  "status": "success",
  "fx_quote_id": "00c884b056f949338788dfb59e495377",
  "buy_price": 12650,
  "sell_price": null,
  "token_pair": {
    "base_token": "BTC",
    "quote_token": "USD"
  },
  "quantity_requested": {
    "token": "BTC",
    "value": "10"
  },
  "side_requested": "buy",
  "t_quote": "2019-06-27T11:59:21.875725+00:00",
  "t_expiry": "2019-06-27T11:59:22.875725+00:00",
  "is_filled": false, 
  "side_executed": null, 
  "error": null
}
```


| Parameter     | Type                              | Description |
| ---------     | ------------------------------    | ------------|
| **status**        | STRING                            | Status of the response. Accepted values: `success` or `failure`|
| **fx_quote_id**   | STRING                            | FalconX Quote ID. Use this when executing 
| **buy_price**   | DECIMAL                            | Buy price in quote token
| **sell_price**   | DECIMAL                            | Sell price in quote token
| **token_pair**    | JSON                              | The market for which the client is requesting quote |
| **quantity_requested**      | JSON                              | Requested quantity |
| **side_requested**       | STRING                              | Side of quote. Accepted values: `buy`, `sell` or `two_way`
| **t_quote**       | STRING                            | Quote time in ISO 8601 date format
| **t_expiry**      | STRING                            | Quote expiry time in ISO 8601 date format
| **is_filled**      | BOOLEAN                          | true if quote has been executed successfully else false. `false` for quote request
| **side_executed**       | STRING                              | Side of quote executed. `null` for quote request
| **error**       | JSON                                | Error info. `null` if no error (see [Error Response](#error-response) for JSON structure)


# Execute Quote

Execute quote fetched in the `Get Quote` API call.

## HTTP Request
`POST https://api.falconx.io/v1/quotes/execute`

## Request Body

> Request Sample

```json
{
    "fx_quote_id": "00c884b056f949338788dfb59e495377",
    "side": "buy"
}
```

| Parameter  | Type                                | Description
| ---------  | ----------------------------------- | ------------
| **fx_quote_id** | STRING                                 | FalconX Quote ID fetched in the `Get Quote` API call
| **side**       | STRING                              | Side of quote. Accepted values: `buy` or `sell`


## Response Parameters

> Response Sample

```json
{
  "status": "success",
  "fx_quote_id": "00c884b056f949338788dfb59e495377",
  "buy_price": 12650,
  "sell_price": null,
  "token_pair": {
    "base_token": "BTC",
    "quote_token": "USD"
  },
  "quantity_requested": {
    "token": "BTC",
    "value": "10"
  },
  "side_requested": "buy",
  "t_quote": "2019-06-27T11:59:21.875725+00:00",
  "t_expiry": "2019-06-27T11:59:22.875725+00:00",
  "is_filled": true, 
  "side_executed": "buy", 
  "error": null
}
```


| Parameter     | Type                              | Description |
| ---------     | ------------------------------    | ------------|
| **status**        | STRING                            | Status of the response. Accepted values: `success` or `failure`|
| **fx_quote_id**   | STRING                            | FalconX Quote ID 
| **buy_price**   | DECIMAL                            | Buy price in quote token
| **sell_price**   | DECIMAL                            | Sell price in quote token
| **token_pair**    | JSON                              | The market for which the client is requesting quote |
| **quantity_requested**      | JSON                              | Requested quantity |
| **side_requested**       | STRING                              | Side of quote. Accepted values: `buy`, `sell` or `two_way`
| **t_quote**       | STRING                            | Quote time in ISO 8601 date format
| **t_expiry**      | STRING                            | Quote expiry time in ISO 8601 date format
| **is_filled**      | BOOLEAN | true if quote has been executed successfully else false
| **side_executed**       | STRING                              | Side of quote executed 
| **error**       | JSON                                | Error info. `null` if no error (see [Error Response](#error-response) for JSON structure)


# Quote Status

Get status of a quote by ID.

## HTTP Request
`GET https://api.falconx.io/v1/quotes/<fx_quote_id>`

## Path Parameters

> Request Sample

```shell
# pass in the correct authorization headers
curl "https://api.falconx.io/v1/quotes/00c884b056f949338788dfb59e495377"
```


| Parameter         | Type                                | Description
| ---------         | ----------------------------------- | ------------
| **fx_quote_id**   | STRING                         | FalconX Quote ID fetched in the `Get Quote` API call


## Response Parameters

> Response Sample

```json
{
  "status": "success",
  "fx_quote_id": "00c884b056f949338788dfb59e495377",
  "buy_price": 12650,
  "sell_price": null,
  "token_pair": {
    "base_token": "BTC",
    "quote_token": "USD"
  },
  "quantity_requested": {
    "token": "BTC",
    "value": "10"
  },
  "side_requested": "buy",
  "t_quote": "2019-06-27T11:59:21.875725+00:00",
  "t_expiry": "2019-06-27T11:59:22.875725+00:00",  
  "is_filled": true, 
  "side_executed": "buy", 
  "error": null
}
```

| Parameter     | Type                              | Description |
| ---------     | ------------------------------    | ------------|
| **status**        | STRING                            | Status of the response. Accepted values: `success` or `failure`|
| **fx_quote_id**   | STRING                            | FalconX Quote ID 
| **buy_price**   | DECIMAL                            | Buy price in quote token
| **sell_price**   | DECIMAL                            | Sell price in quote token
| **token_pair**    | JSON                              | The market for which the client is requesting quote |
| **quantity_requested**      | JSON                              | Requested quantity |
| **side_requested**       | STRING                              | Side of quote. Accepted values: `buy`, `sell` or `two_way`
| **t_quote**       | STRING                            | Quote time in ISO 8601 date format
| **t_expiry**      | STRING                            | Quote expiry time in ISO 8601 date format
| **is_filled**      | BOOLEAN | True if quote has been executed successfully else False
| **side_executed**       | STRING                              | Side of quote executed. `null` if not executed 
| **error**       | JSON                                | Error info. `null` if no error (see [Error Response](#error-response) for JSON structure)


# Get Executed Quotes

Get executed quotes between the given time range. Time range should be provided in ISO 8601 date format.


## HTTP Request
`GET https://api.falconx.io/v1/quotes`

## Query Parameters

> Request Sample

```shell
# pass in the correct authorization headers
curl "https://api.falconx.io/v1/quotes?t_start=2019-06-20T00:00:00+00:00&t_end=2019-06-28T00:00:00+00:00"
```


| Parameter         | Type                                | Description
| ---------         | ----------------------------------- | ------------
| **t_start**   | STRING                         | Start of time range in ISO 8601 date format 
| **t_end**   | STRING                         | End of time range in ISO 8601 date format 


## Response Parameters

> Response Sample

```json
[
  {
    "status": "success",
    "fx_quote_id": "00c884b056f949338788dfb59e495377",
    "buy_price": 12650,
    "sell_price": null,
    "token_pair": {
      "base_token": "BTC",
      "quote_token": "USD"
    },
    "quantity_requested": {
      "token": "BTC",
      "value": "10"
    },
    "side_requested": "buy",
    "t_quote": "2019-06-27T11:59:21.875725+00:00",
    "t_expiry": "2019-06-27T11:59:22.875725+00:00",
    "is_filled": true, 
    "side_executed": "buy", 
    "error": null
  }
]
```
API will return a list of the following structure:

| Parameter     | Type                              | Description |
| ---------     | ------------------------------    | ------------|
| **status**        | STRING                            | Status of the response. Accepted values: `success` or `failure`|
| **fx_quote_id**   | STRING                            | FalconX Quote ID
| **buy_price**   | DECIMAL                            | Buy price in quote token
| **sell_price**   | DECIMAL                            | Sell price in quote token
| **token_pair**    | JSON                              | The market for which the client is requesting quote |
| **quantity_requested**      | JSON                              | Requested quantity |
| **side_requested**       | STRING                              | Side of quote. Accepted values: `buy`, `sell` or `two_way`
| **t_quote**       | STRING                            | Quote time in ISO 8601 date format
| **t_expiry**      | STRING                            | Quote expiry time in ISO 8601 date format
| **is_filled**      | BOOLEAN | True if quote has been executed successfully else False
| **side_executed**       | STRING                              | Side of quote executed 
| **error**       | JSON                                | Error info. `null` if no error (see [Error Response](#error-response) for JSON structure)


# Get Balances


> Request Sample


Fetches balances for all tokens.

## HTTP Request

```shell
# pass in the correct authorization headers
curl "https://api.falconx.io/v1/balances"
```

`GET https://api.falconx.io/v1/balances`


## Response Parameters

> Response Sample

```json
[
  {
    "token": "BTC",
    "balance": 10
  },
  {
    "token": "ETH",
    "balance": 100
  }
]

```


API will return a list of the following structure:

| Parameter     | Type                              | Description |
| ---------     | ------------------------------    | ------------|
| **token**     | STRING                            | Token Symbol  
| **balance**   | DECIMAL                           | Balance for that token


# Error Response
The error structure returned by our API will be in the following format

| Parameter     | Type                              | Description |
| ---------     | ------------------------------    | ------------|
| **code**     | STRING                            | Error code  
| **reason**   | STRING                           | Reason for the error


<!-- The following error codes are supported at the moment:

| Parameter     | Description| 
| ---------     | -----------|
| **ERR_1**     | Error due to error 1  
| **ERR_2**     | Error due to error 2      -->       
