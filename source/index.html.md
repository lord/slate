---
title: API Reference

language_tabs: # must be one of https://git.io/vQNgJ
  - python

search: true
---

# General

Welcome to the FalconX trading API. The API provides developers 24x7 programmatic access to the following

* OTC REST API
* Marketdata REST API
* Marketdata WebSocket API
* Brokerage REST API

# FalconX OTC REST API

### API Endpoint
* `https://api.falconx.io` for production
* `https://sandboxapi.falconx.io` for testing

## Requests
All requests and responses are application/json content type and follow typical HTTP response status codes for success and failure.

### Errors

Unless otherwise stated, errors to bad requests will respond with HTTP 4xx or status codes. The body will also contain a message parameter indicating the cause. Your language’s http library should be configured to provide message bodies for non-2xx requests so that you can read the message field from the body.

Common error codes

<table>
  <tr>
    <th>Status Code</th>
    <th>Reason</th>
  </tr>
  <tr>
    <td>
      400
    </td>
    <td>
      Bad Request – Invalid request format
    </td>
  </tr>
  <tr>
    <td>401</td>
	  <td>Unauthorized – Invalid API Key</td>
  </tr>
  <tr>
    <td>403</td>
	  <td>Forbidden – You do not have access to the requested resource</td>
  </tr>
  <tr>
    <td>404</td>
	  <td>Not Found</td>
  </tr>
  <tr>
    <td>500</td>
	  <td>Internal Server Error – We had a problem with our server</td>
  </tr>
</table>

### Success
A successful response is indicated by HTTP status code 200 and may contain an optional body. If the response has a body it will be documented under each resource below.

## Authentication

``` python
# Requires python-requests. Install with pip:
#
#   pip install requests
#
# or, with easy-install:
#
#   easy_install requests

import json, hmac, hashlib, time, requests, base64
from requests.auth import AuthBase

# Create custom authentication for Exchange
class FXExchangeAuth(AuthBase):
    def __init__(self, api_key, secret_key, passphrase):
        self.api_key = api_key
        self.secret_key = secret_key
        self.passphrase = passphrase

    def __call__(self, request):
        timestamp = str(time.time())
        message = timestamp + request.method + request.path_url + (request.body or '')
        hmac_key = base64.b64decode(self.secret_key)
        signature = hmac.new(hmac_key, message.encode(), hashlib.sha256)
        signature_b64 = base64.b64encode(signature.digest())
 
        request.headers.update({
            'FX-ACCESS-SIGN': signature_b64,
            'FX-ACCESS-TIMESTAMP': timestamp,
            'FX-ACCESS-KEY': self.api_key,
            'FX-ACCESS-PASSPHRASE': self.passphrase,
            'Content-Type': 'application/json'
        })
        return request


api_url = 'https://api.falconx.io/'
auth = FXExchangeAuth(API_KEY, API_SECRET, API_PASS)

# Place an order
order = {
    'size': 1.0,
    'price': 1.0,
    'side': 'buy',
    'product_id': 'BTC-USD',
}
r = requests.post(api_url + 'orders', json=order, auth=auth)
print r.json()
# {"id": "0428b97b-bec1-429e-a94c-59992926778d"}

```

### Generating an API Key
Before being able to sign any requests, you must create an API key via the FalconX website. Upon creating a key you will have 3 pieces of information which you must remember:

* Key
* Secret
* Passphrase

The Key and Secret will be randomly generated and provided by FalconX; the Passphrase will be provided by you to further secure your API access. FalconX stores the salted hash of your passphrase for verification, but cannot recover the passphrase if you forget it.

### Creating a Request
All REST requests must contain the following headers:

* **FX-ACCESS-KEY** The api key as a string.
* **FX-ACCESS-SIGN** The base64-encoded signature (see Signing a Message).
* **FX-ACCESS-TIMESTAMP** A timestamp for your request.
* **FX-ACCESS-PASSPHRASE** The passphrase you specified when creating the API key.
All request bodies should have content type application/json and be valid JSON.

### Signing a Message
The **FX-ACCESS-SIGN** header is generated by creating a sha256 HMAC using the base64-decoded secret key on the prehash string **timestamp + method + requestPath + body** (where + represents string concatenation) and base64-encode the output. The timestamp value is the same as the **FX-ACCESS-TIMESTAMP** header.

The **body** is the request body string or omitted if there is no request body (typically for GET requests).

The **method** should be UPPER CASE.

Remember to first base64-decode the alphanumeric secret string (resulting in 64 bytes) before using it as the key for HMAC. Also, base64-encode the digest output before sending in the header.


### Selecting a Timestamp
The **FX-ACCESS-TIMESTAMP** header MUST be number of seconds since Unix Epoch in UTC. Decimal values are allowed.

Your timestamp must be within 30 seconds of the api service time or your request will be considered expired and rejected. We recommend using the [time](#time) endpoint to query for the API server time if you believe there many be time skew between your server and the API servers.

# FalconX Marketdata REST API

# FalconX Marketdata WebSocket API

# FalconX Brokerage REST API

