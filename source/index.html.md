---
title: API Reference

language_tabs: # must be one of https://git.io/vQNgJ
  - python

search: true
---

# General

Welcome to the FalconX trading API.

## Matching Engine

FalconX operates a continuous first-come, first-serve order book. Orders are executed in price-time priority as received by the matching engine.


## Self-Trade Prevention
Self-trading is not allowed on FalconX. Two orders from the same user will not fill one another. When placing an order, you can specify the self-trade prevention behavior.

### DECREMENT AND CANCEL
The default behavior is decrement and cancel. When two orders from the same user cross, the smaller order will be canceled and the larger order size will be decremented by the smaller order size. If the two orders are the same size, both will be canceled.

### CANCEL OLDEST
Cancel the older (resting) order in full. The new order continues to execute.

### CANCEL NEWEST
Cancel the newer (taking) order in full. The old resting order remains on the order book.

### CANCEL BOTH
Immediately cancel both orders.

### NOTES FOR MARKET ORDERS
When a market order using dc self-trade prevention encounters an open limit order, the behavior depends on which fields for the market order message were specified. If funds and size are specified for a buy order, then size for the market order will be decremented internally within the matching engine and funds will remain unchanged. The intent is to offset your target size without limiting your buying power. If size is not specified, then funds will be decremented. For a market sell, the size will be decremented when encountering existing limit orders.

## Order Lifecycle
Valid orders sent to the matching engine are confirmed immediately and are in the received state. If an order executes against another order immediately, the order is considered done. An order can execute in part or whole. Any part of the order not filled immediately, will be considered open. Orders will stay in the open state until canceled or subsequently filled by new orders. Orders that are no longer eligible for matching (filled or canceled) are in the done state.

## Fees

To be decided


# API

### REST API ENDPOINT URL
### https://api.falconx.io

## Requests
All requests and responses are application/json content type and follow typical HTTP response status codes for success and failure.

## Errors

Unless otherwise stated, errors to bad requests will respond with HTTP 4xx or status codes. The body will also contain a message parameter indicating the cause. Your language’s http library should be configured to provide message bodies for non-2xx requests so that you can read the message field from the body.

Common error codes

<table>
  <tr>
    <th>Status Code</th>
    <th>Reason</th>
  </tr>
  <tr>
    <td>
      400
    </td>
    <td>
      Bad Request – Invalid request format
    </td>
  </tr>
  <tr>
    <td>401</td>
	  <td>Unauthorized – Invalid API Key</td>
  </tr>
  <tr>
    <td>403</td>
	  <td>Forbidden – You do not have access to the requested resource</td>
  </tr>
  <tr>
    <td>404</td>
	  <td>Not Found</td>
  </tr>
  <tr>
    <td>500</td>
	  <td>Internal Server Error – We had a problem with our server</td>
  </tr>
</table>

## Success
A successful response is indicated by HTTP status code 200 and may contain an optional body. If the response has a body it will be documented under each resource below.

# Authentication
## Generating an API Key
Before being able to sign any requests, you must create an API key via the FalconX website. Upon creating a key you will have 3 pieces of information which you must remember:

* Key
* Secret
* Passphrase
The Key and Secret will be randomly generated and provided by FalconX; the Passphrase will be provided by you to further secure your API access. FalconX stores the salted hash of your passphrase for verification, but cannot recover the passphrase if you forget it.

## Creating a Request
All REST requests must contain the following headers:

* **FX-ACCESS-KEY** The api key as a string.
* **FX-ACCESS-SIGN** The base64-encoded signature (see Signing a Message).
* **FX-ACCESS-TIMESTAMP** A timestamp for your request.
* **FX-ACCESS-PASSPHRASE** The passphrase you specified when creating the API key.
All request bodies should have content type application/json and be valid JSON.

## Signing a Message
The **FX-ACCESS-SIGN** header is generated by creating a sha256 HMAC using the base64-decoded secret key on the prehash string **timestamp + method + requestPath + body** (where + represents string concatenation) and base64-encode the output. The timestamp value is the same as the **FX-ACCESS-TIMESTAMP** header.

The **body** is the request body string or omitted if there is no request body (typically for GET requests).

The **method** should be UPPER CASE.

Remember to first base64-decode the alphanumeric secret string (resulting in 64 bytes) before using it as the key for HMAC. Also, base64-encode the digest output before sending in the header.


## Selecting a Timestamp
The **FX-ACCESS-TIMESTAMP** header MUST be number of seconds since Unix Epoch in UTC. Decimal values are allowed.

Your timestamp must be within 30 seconds of the api service time or your request will be considered expired and rejected. We recommend using the [time](#time) endpoint to query for the API server time if you believe there many be time skew between your server and the API servers.

