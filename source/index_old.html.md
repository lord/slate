---
title: API Reference

language_tabs: # must be one of https://git.io/vQNgJ
  - python

search: true
---

# General

Welcome to the FalconX trading API. The API provides developers programmatic access to the following APIs

* OTC REST API
* Marketdata REST API
* Marketdata WebSocket API
* Brokerage REST API

# OTC REST API

## Introduction

### Request For Quote (RFQ)
The RFQ process involves the client sending details about the market pair they want to trade including the quantity.  The side can be revealed later when they actually execute the trade.  The FalconX API returns the price at which the client can buy or sell the request quantity in the requested market pair.  The quote is valid only for a short period of time.  If the client accepts the quote before it expires (by revealing the side) and FalconX sends a confirmation then the trade is considered closed.

## Requests
All requests and responses are application/json content type and follow typical HTTP response status codes for success and failure.

### API Endpoint
* `https://api.falconx.io` for production
* `https://sandboxapi.falconx.io` for testing

### Errors

Unless otherwise stated, errors to bad requests will respond with HTTP 4xx or status codes. The body will also contain a message parameter indicating the cause. Your language’s http library should be configured to provide message bodies for non-2xx requests so that you can read the message field from the body.

Common error codes

<table>
  <tr>
    <th>Status Code</th>
    <th>Reason</th>
  </tr>
  <tr>
    <td>
      400
    </td>
    <td>
      Bad Request – Invalid request format
    </td>
  </tr>
  <tr>
    <td>401</td>
	  <td>Unauthorized – Invalid API Key</td>
  </tr>
  <tr>
    <td>403</td>
	  <td>Forbidden – You do not have access to the requested resource</td>
  </tr>
  <tr>
    <td>404</td>
	  <td>Not Found</td>
  </tr>
  <tr>
    <td>500</td>
	  <td>Internal Server Error – We had a problem with our server</td>
  </tr>
</table>

### Success
A successful response is indicated by HTTP status code 200 and may contain an optional body. If the response has a body it will be documented under each resource below.

## Authentication

``` python
# Requires python-requests. Install with pip:
#
#   pip install requests
#
# or, with easy-install:
#
#   easy_install requests

import json, hmac, hashlib, time, requests, base64
from requests.auth import AuthBase

# Create custom authentication for Brokerage
class FXBrokerageAuth(AuthBase):
    def __init__(self, api_key, secret_key, passphrase):
        self.api_key = api_key
        self.secret_key = secret_key
        self.passphrase = passphrase

    def __call__(self, request):
        timestamp = str(time.time())
        message = timestamp + request.method + request.path_url + (request.body or '')
        hmac_key = base64.b64decode(self.secret_key)
        signature = hmac.new(hmac_key, message.encode(), hashlib.sha256)
        signature_b64 = base64.b64encode(signature.digest())

        request.headers.update({
            'FX-ACCESS-SIGN': signature_b64,
            'FX-ACCESS-TIMESTAMP': timestamp,
            'FX-ACCESS-KEY': self.api_key,
            'FX-ACCESS-PASSPHRASE': self.passphrase,
            'Content-Type': 'application/json'
        })
        return request


api_url = 'https://api.falconx.io/'
auth = FXBrokerageAuth(API_KEY, API_SECRET, API_PASS)

# Place an order
order = {
    'size': 1.0,
    'price': 1.0,
    'side': 'buy',
    'product_id': 'BTC-USD',
}
r = requests.post(api_url + 'orders', json=order, auth=auth)
print r.json()
# {"id": "0428b97b-bec1-429e-a94c-59992926778d"}

```

### Generating an API Key
Before being able to sign any requests, you must create an API key via the FalconX website. Upon creating a key you will have 3 pieces of information which you must remember:

* Key
* Secret
* Passphrase

The Key and Secret will be randomly generated and provided by FalconX; the Passphrase will be provided by you to further secure your API access. FalconX stores the salted hash of your passphrase for verification, but cannot recover the passphrase if you forget it.

### Creating a Request
All REST requests must contain the following headers:

* **FX-ACCESS-KEY** The api key as a string.
* **FX-ACCESS-SIGN** The base64-encoded signature (see Signing a Message).
* **FX-ACCESS-TIMESTAMP** A timestamp for your request.
* **FX-ACCESS-PASSPHRASE** The passphrase you specified when creating the API key.
All request bodies should have content type application/json and be valid JSON.

### Signing a Message
The **FX-ACCESS-SIGN** header is generated by creating a sha256 HMAC using the base64-decoded secret key on the prehash string **timestamp + method + requestPath + body** (where + represents string concatenation) and base64-encode the output. The timestamp value is the same as the **FX-ACCESS-TIMESTAMP** header.

The **body** is the request body string or omitted if there is no request body (typically for GET requests).

The **method** should be UPPER CASE.

Remember to first base64-decode the alphanumeric secret string (resulting in 64 bytes) before using it as the key for HMAC. Also, base64-encode the digest output before sending in the header.


### Selecting a Timestamp
The **FX-ACCESS-TIMESTAMP** header MUST be number of seconds since Unix Epoch in UTC. Decimal values are allowed.

Your timestamp must be within 30 seconds of the api service time or your request will be considered expired and rejected. We recommend using the [time](#time) endpoint to query for the API server time if you believe there many be time skew between your server and the API servers.

## Markets
```python

```

> Example of JSON structure returned by the request

```json
[
  {
    "symbol": "BTC-USD",
    "minimum": "10"
  },
  {
    "symbol": "ETH-USD",
    "minimum": "100"
  },
  {
    "symbol": "ETH-BTC",
    "minimum": "100"
  },
]
```
Lists all the markets available for trading

### HTTP Request
`GET https://api.falconx.io/markets`

Response Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      symbol
    </td>
    <td>
      String
    </td>
    <td>
      The symbol of the market
    </td>
  </tr>
  <tr>
    <td>
      minimum
    </td>
    <td>
      String
    </td>
    <td>
      The minimum quantity of the base token for which you can request a quote
    </td>
  </tr>
</table>

## Balances
```python

```

> Example of JSON structure returned by the request

```json
{
  "BTC": {
    "total": "100",
    "tradable": "90"
  },
  "USD": {
    "total": "100000",
    "tradable": "100000"
  },
  "ETH": {
    "total": "1000",
    "tradable": "800"
  }
}
```
Returns the current balances of all or a particular currency.  A positive number means you are owed a certain amount of a currency.  A negative number means that you owe a certain amount of a currency.

To get all balances

### HTTP Request
`GET https://api.falconx.io/balances`

Response Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      total
    </td>
    <td>
      String
    </td>
    <td>
      The total quantity of this currency that you have in your wallet
    </td>
  </tr>
  <tr>
    <td>
      tradable
    </td>
    <td>
      String
    </td>
    <td>
      The quantity of this currency that is available for you to trade (i.e. not in the withdrawal queue)
    </td>
  </tr>
</table>

## Request For Quote
```python

```

> Example of JSON structure returned by the request

```json
{
  "created_timestamp": "2019-01-01T19:45:07.025464Z",
  "expiration_timestamp": "2019-01-01T19:45:22.025464Z",
  "quote_id": "d4e41399-e7a1-4576-9b46-349420040e1a",
  "quantity": "100.0000000000",
  "market": "BTC-USD",
  "sell_price": "3998.00000000",
  "buy_price": "4001.00000000"
}
```
Client sends request to get quotes to this endpoint.  The response contains the timestamp until which the quotes are valid.  Only a valid quote can be used to place an order

### HTTP Request
`POST https://api.falconx.io/rfq`

Request Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      market
    </td>
    <td>
      String
    </td>
    <td>
      The market for which the client is requesting quote
    </td>
  </tr>
  <tr>
    <td>quantity</td>
	  <td>String</td>
    <td>Quantity in base token</td>
  </tr>
</table>

Response Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>created_timestamp</td>
    <td>String</td>
    <td>The timestamp at which the quote was requested</td>
  </tr>
  <tr>
    <td>expiration_timestamp</td>
    <td>String</td>
    <td>The timestamp at which the quote expires</td>
  </tr>
  <tr>
    <td>quote_id</td>
    <td>String</td>
    <td>Unique id of the quote to be used to place an order</td>
  </tr>
  <tr>
    <td>quantity</td>
    <td>String</td>
    <td>The quantity requested of the token</td>
  </tr>
  <tr>
    <td>market</td>
    <td>String</td>
    <td>The market for which you requested a quote</td>
  </tr>
  <tr>
    <td>sell_price</td>
	  <td>String</td>
    <td>The quote for selling the requested quantity</td>
  </tr>
  <tr>
    <td>buy_price</td>
	  <td>String</td>
    <td>The quote for buying the requested quantity</td>
  </tr>
</table>

## Trade
```python

```

> Example of JSON structure returned by the request

```json
{
  "created_timestamp": "2016-09-27T11:27:46.599039Z",
  "trade_id": "5c7e90cc-a8d6-4db5-8348-44053b2dcbdf",
  "quote_id": "f7492962-783e-45c7-ae81-6eb61f4d7251",
  "price": "4000.0000000000",
  "market": "BTC-USD",
  "side": "buy",
  "quantity": "10.00000000"
}
```
Place a trade after RFQ.  Note that the trade side is revealed now.

### HTTP Request
`GET https://api.falconx.io/trade`

Request Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>created_timestamp</td>
    <td>String</td>
    <td>The timestamp at which the trade was placed</td>
  </tr>
  <tr>
    <td>trade_id</td>
    <td>String</td>
    <td>The unique id of this trade</td>
  </tr>
  <tr>
    <td>quote_id</td>
    <td>String</td>
    <td>The unique quote id returned in the RFQ call</td>
  </tr>
  <tr>
    <td>price</td>
    <td>String</td>
    <td>The price at which the trade was placed</td>
  </tr>
  <tr>
    <td>market</td>
    <td>String</td>
    <td>The market that was traded</td>
  </tr>
  <tr>
    <td>side</td>
    <td>String</td>
    <td>Either buy or sell</td>
  </tr>
  <tr>
    <td>quantity</td>
    <td>String</td>
    <td>The quantity of the token that was traded</td>
  </tr>
</table>

## Trade History
```python

```

> Example of JSON structure returned by the request

```json
[
  {
    "trade_id": "ef69dz9f-5ade-4aa4-87c2-e2eaef37d8bc",
    "created_timestamp": "2016-12-14T14:17:03Z",
    "market": "BTC-USD",
    "quantity": "100.00000000",
    "price": "4000.00000000",
    "side": "buy"
  },
  {
    "trade_id": "393f9373-8a9a-478b-8669-6fc443a36780",
    "created_timestamp": "2016-12-15T12:18:01Z",
    "market": "ETH-USD",
    "quantity": "1000.00000000",
    "price": "130.00000000",
    "side": "sell"
  }
]
```
Returns the trade history

### HTTP Request
`GET https://api.falconx.io/trade/history`

Response Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>trade_id</td>
    <td>String</td>
    <td>The unique id of this trade</td>
  </tr>
  <tr>
    <td>created_timestamp</td>
    <td>String</td>
    <td>The timestamp at which this trade occurred</td>
  </tr>
  <tr>
    <td>market</td>
    <td>String</td>
    <td>The market that was traded</td>
  </tr>
  <tr>
    <td>quantity</td>
    <td>String</td>
    <td>The quantity that was traded</td>
  </tr>
  <tr>
    <td>price</td>
    <td>String</td>
    <td>The unit price of the trade</td>
  </tr>
  <tr>
    <td>side</td>
    <td>String</td>
    <td>Buy or sell</td>
  </tr>
</table>

# Marketdata REST API

The marketdata API is meant for getting aggregated market data (orderbooks, trades, and OHLCV). Using the REST API for marketdata, historical data for an exchange pair may be pulled from FalconX.

## Authentication

FalconX uses an API key strategy for providing marketdata. The authentication header looks like the following

`X-API-KEY: secret-api-key`

If the `X-API-KEY` header is not present, a 401 Unauthorized error will be returned.

## Historical Trades

```python
```

> Example Response returned by the request

```json
[
  {
    "quantity": "1",
    "exchange_time": "2019-01-01T00:01:23.456789",
    "base_token": "BTC",
    "quote_token": "USD",
    "taker_side": "buy",
    "price": "3800.00",
    "market": "binance_BTC_USD"
  },
  {
    "quantity": "0.00005",
    "exchange_item": "2019-01-01T00:02:00.000000",
    "base_token": "BTC",
    "quote_token": "USD",
    "taker_side": "sell",
    "price": "3801.00",
    "market": "binance_BTC_USD"
  }
]
```

Get historical trade data.

### HTTP Request

`GET https://api.falconx.io/marketdata/historical_trades/`


### Request Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>exchange</th>
    <td>String</td>
    <td>Y</td>
    <td>The exchange name to query</td>
  </tr>
  <tr>
    <td>pair</td>
    <td>String</td>
    <td>Y</td>
    <td>The token pair to query, eg BTC-USD</td>
  </tr>
  <tr>
    <td>start_time</td>
    <td>Timestamp</td>
    <td>Y</td>
    <td>The timestamp of the beginning of the interval in ISO format, eg 2019-01-01T00:00:00.000</td>
  </tr>
  <tr>
    <td>end_time</td>
    <td>Timestamp</td>
    <td>N</td>
    <td>The timestamp of the end of the interval in ISO format, eg 2019-01-01T00:01:00.000. If not provided, only 100 trades will be returned.</td>
  </tr>
</table>

### Response Codes

<table>
  <tr>
    <th>Code</th>
    <th>Status</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>200</td>
    <td>OK</td>
    <td></td>
  </tr>
  <tr>
    <td>400</td>
    <td>Bad Request</td>
    <td>Either some parameters are missing or malformed</td>
  </tr>
  <tr>
    <td>401</td>
    <td>Unauthorized</td>
    <td>X-API-KEY missing or invalid</td>
  </tr>
  <tr>
    <td>429</td>
    <td>Too Many Requests</td>
    <td>Rate limit of requests exceeded</td>
  </tr>
  <tr>
    <td>500</td>
    <td>Internal Server Error</td>
    <td>An error occurred within the backend</td>
  </tr>
</table>

## Historical Orderbooks

```python
```

> Example response returned by the request

```json
[
  {
    "asks": [
      [3800, 1],
      [3801, 0.1],
      [3802, 100],
      ...
    ],
    "bids": [
      [3798, 10],
      [3797, 0.001],
      [3796, 1],
      ...
    ],
    "exchange_timestamp": "2019-01-01T00:00:01.120000",
    "base_token": "BTC",
    "quote_token": "USD",
    "market": "binance_BTC_USD"
  }
]
```

Get historical orderbook data for a specific market pair.

### HTTP Request

`GET https://api.falconx.io/marketdata/historical_orderbooks/`

### Request Parameters

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>exchange</th>
    <td>String</td>
    <td>Y</td>
    <td>The exchange name to query</td>
  </tr>
  <tr>
    <td>pair</td>
    <td>String</td>
    <td>Y</td>
    <td>The token pair to query, eg BTC-USD</td>
  </tr>
  <tr>
    <td>start_time</td>
    <td>Timestamp</td>
    <td>Y</td>
    <td>The timestamp of the beginning of the interval in ISO format, eg 2019-01-01T00:00:00.000</td>
  </tr>
  <tr>
    <td>end_time</td>
    <td>Timestamp</td>
    <td>N</td>
    <td>The timestamp of the end of the interval in ISO format, eg 2019-01-01T00:01:00.000. If not provided, only 10 orderbooks will be returned.</td>
  </tr>
</table>

### Response Codes

<table>
  <tr>
    <th>Code</th>
    <th>Status</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>200</td>
    <td>OK</td>
    <td></td>
  </tr>
  <tr>
    <td>400</td>
    <td>Bad Request</td>
    <td>Either some parameters are missing or malformed</td>
  </tr>
  <tr>
    <td>401</td>
    <td>Unauthorized</td>
    <td>X-API-KEY missing or invalid</td>
  </tr>
  <tr>
    <td>429</td>
    <td>Too Many Requests</td>
    <td>Rate limit of requests exceeded</td>
  </tr>
  <tr>
    <td>500</td>
    <td>Internal Server Error</td>
    <td>An error occurred within the backend</td>
  </tr>
</table>

# Marketdata Websocket API

The marketdata websocket API streams marketdata updates in real-time to all connected clients. Data is published to the subscribers as soon as the market update is collected.

## Authentication

FalconX uses an API key strategy for providing marketdata. The authentication header must be provided at the time of establishing the connection. The authentication header looks like the following

`X-API-KEY: secret-api-key`

If the `X-API-KEY` header is not present, a 401 Unauthorized error will be returned, and the websocket connection will be terminated.

## Trades

```python
```

> Example of a Published Trade

```json
{
  "quantity": "1",
  "exchange_time": "2019-01-01T00:01:23.456789",
  "base_token": "BTC",
  "quote_token": "USD",
  "taker_side": "buy",
  "price": "3800.00",
  "market": "binance_BTC_USD"
}
```

Provides real-time streaming of trades from the market.

### Establishing Connection

```json
{
  "connection_id": "e0d19a81-6b6e-4384-9021-b57a21f9fc64",
  "status": "ok"
}
```

To start getting trade streams, connect to the following URL.

`wss://ws.falconx.io/trades/`

Note that unauthenticated connections aren't allowed, and the `X-API-KEY` header must be sent when establishing the connection.

### Subscribing to a market

> Response on successful subscription

```json
{
  "status": "subscribed",
  "market": "binance-BTC-USD",
  "subscription_id": "081bac77-671f-49a7-8d28-e44fe935cb30"
}
```

> Response on a subscription error

```json
{
  "status": "error",
  "message": "The requested market is not available"
}
```

To subscribe to a particular market, send the following message

`{ "action": "subscribe", "exchange": "binance", "pair": "BTC-USD" }`

### Unsubscribing

> Response on successful unsubscription

```json
{
  "status": "unsubscribed",
  "market": "binance-BTC-USD"
}
```

To unsubscribe and stop receiving the trade stream, send the following message on the channel

`{ "action": "unsubscribe", "exchange": "binance", "pair": "BTC-USD" }`

## Orderbooks

```python
```

> Example of a Published Orderbook

```json
{
  "asks": [
    [3800, 1],
    [3801, 0.1],
    [3802, 100],
    ...
  ],
  "bids": [
    [3798, 10],
    [3797, 0.001],
    [3796, 1],
    ...
  ],
  "exchange_timestamp": "2019-01-01T00:00:01.120000",
  "base_token": "BTC",
  "quote_token": "USD",
  "market": "binance_BTC_USD"
}
```

Provides real-time streaming of orderbooks.

### Establishing Connection

```json
{
  "connection_id": "e0d19a81-6b6e-4384-9021-b57a21f9fc64",
  "status": "ok"
}
```

To start getting trade streams, connect to the following URL.

`wss://ws.falconx.io/orderbooks/`

Note that unauthenticated connections aren't allowed, and the `X-API-KEY` header must be sent when establishing the connection.

### Subscribing to a market

> Response on successful subscription

```json
{
  "status": "subscribed",
  "market": "binance-BTC-USD",
  "subscription_id": "081bac77-671f-49a7-8d28-e44fe935cb30"
}
```

> Response on a subscription error

```json
{
  "status": "error",
  "message": "The requested market is not available"
}
```

To subscribe to a particular market, send the following message

`{ "action": "subscribe", "exchange": "binance", "pair": "BTC-USD" }`

### Unsubscribing

> Response on successful unsubscription

```json
{
  "status": "unsubscribed",
  "market": "binance-BTC-USD"
}
```

To unsubscribe and stop receiving the trade stream, send the following message on the channel

`{ "action": "unsubscribe", "exchange": "binance", "pair": "BTC-USD" }`